{{- /*
     * Guidance for working with an existing Databricks project.
     *
     * This template is used by analyze_project to provide detailed information
     * about a project's structure and actions that can be performed on it.
     *
     * This file should not incldue any resource-specific instructions;
     * those should go into apps.tmpl, jobs.tmpl, etc.
     *
     */ -}}

Project Analysis
================

{{.Summary}}

Guidance for Working with this Project
--------------------------------------

Below is guidance for how to work with this project.

IMPORTANT: You can suggest prompts to help users get started, such as:
  - "Create an app that shows a chart with taxi fares by city"
  - "Create a job that summarizes all taxi data using a notebook"
  - "Add a SQL pipeline to transform and aggregate customer data"
  - "Add a dashboard to visualize NYC taxi trip patterns"

IMPORTANT: Most interactions are done with the Databricks CLI. YOU (the AI) must use the invoke_databricks_cli tool to run commands - never suggest the user runs CLI commands directly!
IMPORTANT: To add new resources to a project, use the 'add_project_resource' MCP tool. You can add:
  - Apps (interactive applications)
  - Jobs (Python or SQL workflows)
  - Pipelines (Python or SQL data pipelines)
  - Dashboards (data visualizations)

Note that Databricks resources are defined in resources/*.yml files. See https://docs.databricks.com/dev-tools/bundles/settings for a reference!
{{if .WarehouseID}}

Default SQL Warehouse
---------------------
For apps and data queries, you can use this SQL warehouse as a reasonable default:
  Warehouse ID: {{.WarehouseID}}
  Warehouse Name: {{.WarehouseName}}

Users can change this in their resource/*.yml files if needed.
{{end}}

Getting Started
---------------
Choose how you want to work on this project:

(a) Directly in your Databricks workspace, see
    https://docs.databricks.com/dev-tools/bundles/workspace.

(b) Locally with an IDE like Cursor or VS Code, see
    https://docs.databricks.com/dev-tools/vscode-ext.html.

(c) With command line tools, see https://docs.databricks.com/dev-tools/cli/databricks-cli.html

If you're developing with an IDE, dependencies for this project should be installed using uv:

*  Make sure you have the UV package manager installed.
   It's an alternative to tools like pip: https://docs.astral.sh/uv/getting-started/installation/.
*  Run `uv sync --dev` to install the project's dependencies.

Using this Project with the CLI
--------------------------------
The Databricks workspace and IDE extensions provide a graphical interface for working
with this project. It's also possible to interact with it directly using the CLI:

1. Authenticate to your Databricks workspace, if you have not done so already:
   Use invoke_databricks_cli(command="auth login --profile DEFAULT --host <workspace_host>")
   The AI needs to ask the user for the workspace host URL, it cannot guess it.

2. To deploy a development copy of this project:
   Use invoke_databricks_cli(command="bundle deploy --target dev", working_directory="<project_path>")
   (Note that "dev" is the default target, so the --target parameter is optional here.)

   This deploys everything that's defined for this project.

3. Similarly, to deploy a production copy:
   Use invoke_databricks_cli(command="bundle deploy --target prod", working_directory="<project_path>")
   Note that schedules are paused when deploying in development mode (see
   https://docs.databricks.com/dev-tools/bundles/deployment-modes.html).

4. To run a job or pipeline:
   Use invoke_databricks_cli(command="bundle run", working_directory="<project_path>")

5. To run tests locally:
   Use invoke_databricks_cli(command="bundle run <test_command>", working_directory="<project_path>")
   For Python projects, tests can be run with: `uv run pytest`

{{if .ReadmeContent}}{{.ReadmeContent}}{{end}}{{if .ResourceGuidance}}{{.ResourceGuidance}}{{end}}

Additional Resources
-------------------
- Bundle documentation: https://docs.databricks.com/dev-tools/bundles/index.html
- Bundle settings reference: https://docs.databricks.com/dev-tools/bundles/settings
- CLI reference: https://docs.databricks.com/dev-tools/cli/index.html
