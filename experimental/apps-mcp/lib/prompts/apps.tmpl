{{- /*
     * Guidance for Databricks Apps development.
     *
     * This guidance provides instructions for initializing and working with
     * Databricks Apps using bundle templates.
     *
     */ -}}

DATABRICKS APPS DEVELOPMENT
============================

# Initialization

ALWAYS start by scaffolding a new app using command:

invoke_databricks_cli 'experimental apps-mcp tools init-template https://github.com/neondatabase/appdotbuild-agent --template-dir edda/edda_templates/trpc_bundle --config-json '{"project_name":"my-app-name","sql_warehouse_id":"{{if .WarehouseID}}{{.WarehouseID}}{{else}}12345{{end}}"}''

# Validation

⚠️ Always validate your app before deploying to production:

invoke_databricks_cli 'experimental apps-mcp tools validate ./your-app-location'

# Deployment

Always use the sequence of commands:

invoke_databricks_cli 'bundle deploy'
invoke_databricks_cli 'bundle run my-app-name_app'

⚠️ Important: the name of the resource is found in ./resources/trpc.app.yml
`
resources:
  apps:
    my-trpc-app_app: <- this is the argument to 'bundle run'
`

# View and manage your app:

invoke_databricks_cli 'bundle summary'
