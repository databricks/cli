
>>> [CLI] bundle deploy
Uploading bundle files to /Workspace/Users/[USERNAME]/.bundle/test-bundle/default/files...
Deploying resources...
Updating deployment state...
Deployment complete!

>>> print_requests
{
  "method": "POST",
  "path": "/api/2.1/unity-catalog/tables/main.default.mytable/monitor",
  "body": {
    "assets_dir": "/Workspace/Users/me@example.com/assets1",
    "output_schema_name": "main.output"
  }
}

>>> [CLI] bundle summary -o json
{
  "monitor1": {
    "assets_dir": "/Workspace/Users/me@example.com/assets1",
    "id": "main.default.mytable",
    "output_schema_name": "main.output",
    "table_name": "main.default.mytable",
    "url": "[DATABRICKS_URL]/explore/data/main/default/mytable?o=[NUMID]"
  }
}

=== Update assets_dir and re-deploy (should recreate)
>>> update_file.py databricks.yml assets1 assets2

>>> [CLI] bundle plan
recreate quality_monitors.monitor1

Plan: 1 to add, 0 to change, 1 to delete, 0 unchanged

>>> [CLI] bundle deploy --auto-approve
Uploading bundle files to /Workspace/Users/[USERNAME]/.bundle/test-bundle/default/files...
Deploying resources...
Updating deployment state...
Deployment complete!

>>> print_requests
{
  "method": "DELETE",
  "path": "/api/2.1/unity-catalog/tables/main.default.mytable/monitor"
}
{
  "method": "POST",
  "path": "/api/2.1/unity-catalog/tables/main.default.mytable/monitor",
  "body": {
    "assets_dir": "/Workspace/Users/me@example.com/assets2",
    "output_schema_name": "main.output"
  }
}
