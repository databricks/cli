
>>> [CLI] bundle plan
create schemas.grants_schema
create schemas.grants_schema.grants

Plan: 2 to add, 0 to change, 0 to delete, 0 unchanged

>>> [CLI] bundle plan -o json

>>> print_requests.py --get //permissions

>>> [CLI] bundle deploy
Uploading bundle files to /Workspace/Users/[USERNAME]/.bundle/schema-grants-[UNIQUE_NAME]/default/files...
Deploying resources...
Updating deployment state...
Deployment complete!

>>> print_requests.py //permissions

>>> [CLI] bundle plan
Plan: 0 to add, 0 to change, 0 to delete, 2 unchanged

>>> [CLI] grants get schema main.schema_grants_[UNIQUE_NAME]
{
  "privilege_assignments": [
    {
      "principal": "deco-test-user@databricks.com",
      "privileges": [
        "CREATE_TABLE",
        "USE_SCHEMA"
      ]
    }
  ]
}

>>> [CLI] bundle plan -o json

>>> print_requests.py --get //permissions
{
  "method": "GET",
  "path": "/api/2.1/unity-catalog/permissions/schema/main.schema_grants_[UNIQUE_NAME]"
}
{
  "method": "GET",
  "path": "/api/2.1/unity-catalog/permissions/schema/main.schema_grants_[UNIQUE_NAME]"
}
{
  "method": "GET",
  "path": "/api/2.1/unity-catalog/permissions/schema/main.schema_grants_[UNIQUE_NAME]"
}

>>> [CLI] bundle deploy
Uploading bundle files to /Workspace/Users/[USERNAME]/.bundle/schema-grants-[UNIQUE_NAME]/default/files...
Deploying resources...
Updating deployment state...
Deployment complete!

>>> print_requests.py //permissions

>>> [CLI] grants get schema main.schema_grants_[UNIQUE_NAME]
{
  "privilege_assignments": [
    {
      "principal": "deco-test-user@databricks.com",
      "privileges": [
        "APPLY_TAG",
        "CREATE_TABLE"
      ]
    }
  ]
}

>>> [CLI] bundle destroy --auto-approve
The following resources will be deleted:
  delete resources.schemas.grants_schema

This action will result in the deletion of the following UC schemas. Any underlying data may be lost:
  delete resources.schemas.grants_schema

All files and directories at the following location will be deleted: /Workspace/Users/[USERNAME]/.bundle/schema-grants-[UNIQUE_NAME]/default

Deleting files...
Destroy complete!

>>> print_requests.py //permissions
