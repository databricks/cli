{
  "plan": {
    "resources.jobs.barj": {
      "depends_on": [
        {
          "node": "resources.jobs.fooj",
          "label": "${resources.jobs.fooj.name}"
        }
      ],
      "action": "create",
      "new_state": {
        "config": {
          "deployment": {
            "kind": "BUNDLE",
            "metadata_file_path": "/Workspace/Users/[USERNAME]/.bundle/many-permissions-test/default/state/metadata.json"
          },
          "edit_mode": "UI_LOCKED",
          "format": "MULTI_TASK",
          "max_concurrent_runs": 1,
          "name": "job bar job foo",
          "queue": {
            "enabled": true
          },
          "tasks": [
            {
              "notebook_task": {
                "notebook_path": "/Workspace/Users/user@example.com/notebook",
                "source": "WORKSPACE"
              },
              "task_key": "main"
            }
          ]
        }
      }
    },
    "resources.jobs.barj.permissions": {
      "depends_on": [
        {
          "node": "resources.jobs.barj",
          "label": "${resources.jobs.barj.id}"
        }
      ],
      "action": "create",
      "new_state": {
        "config": {
          "object_id": "",
          "permissions": [
            {
              "permission_level": "CAN_VIEW",
              "user_name": "viewer1@example.com"
            },
            {
              "group_name": "data-team",
              "permission_level": "CAN_MANAGE"
            },
            {
              "permission_level": "IS_OWNER",
              "user_name": "[USERNAME]"
            }
          ]
        },
        "vars": {
          "object_id": "/jobs/${resources.jobs.barj.id}"
        }
      }
    },
    "resources.jobs.fooj": {
      "action": "create",
      "new_state": {
        "config": {
          "deployment": {
            "kind": "BUNDLE",
            "metadata_file_path": "/Workspace/Users/[USERNAME]/.bundle/many-permissions-test/default/state/metadata.json"
          },
          "edit_mode": "UI_LOCKED",
          "format": "MULTI_TASK",
          "max_concurrent_runs": 1,
          "name": "job foo",
          "queue": {
            "enabled": true
          },
          "tasks": [
            {
              "notebook_task": {
                "notebook_path": "/Workspace/Users/user@example.com/notebook",
                "source": "WORKSPACE"
              },
              "task_key": "main"
            }
          ]
        }
      }
    },
    "resources.jobs.fooj.permissions": {
      "depends_on": [
        {
          "node": "resources.jobs.fooj",
          "label": "${resources.jobs.fooj.id}"
        }
      ],
      "action": "create",
      "new_state": {
        "config": {
          "object_id": "",
          "permissions": [
            {
              "permission_level": "CAN_VIEW",
              "user_name": "viewer@example.com"
            },
            {
              "group_name": "data-team",
              "permission_level": "CAN_MANAGE"
            },
            {
              "permission_level": "IS_OWNER",
              "user_name": "[USERNAME]"
            }
          ]
        },
        "vars": {
          "object_id": "/jobs/${resources.jobs.fooj.id}"
        }
      }
    },
    "resources.pipelines.barp": {
      "depends_on": [
        {
          "node": "resources.pipelines.foop",
          "label": "${resources.pipelines.foop.name}"
        }
      ],
      "action": "create",
      "new_state": {
        "config": {
          "channel": "CURRENT",
          "deployment": {
            "kind": "BUNDLE",
            "metadata_file_path": "/Workspace/Users/[USERNAME]/.bundle/many-permissions-test/default/state/metadata.json"
          },
          "edition": "ADVANCED",
          "name": "pipeline bar pipeline foo job bar job foo"
        }
      }
    },
    "resources.pipelines.barp.permissions": {
      "depends_on": [
        {
          "node": "resources.pipelines.barp",
          "label": "${resources.pipelines.barp.id}"
        }
      ],
      "action": "create",
      "new_state": {
        "config": {
          "object_id": "",
          "permissions": [
            {
              "permission_level": "CAN_VIEW",
              "user_name": "viewer1@example.com"
            },
            {
              "group_name": "data-team",
              "permission_level": "CAN_MANAGE"
            },
            {
              "permission_level": "IS_OWNER",
              "user_name": "[USERNAME]"
            }
          ]
        },
        "vars": {
          "object_id": "/pipelines/${resources.pipelines.barp.id}"
        }
      }
    },
    "resources.pipelines.foop": {
      "depends_on": [
        {
          "node": "resources.jobs.barj",
          "label": "${resources.jobs.barj.name}"
        }
      ],
      "action": "create",
      "new_state": {
        "config": {
          "channel": "CURRENT",
          "deployment": {
            "kind": "BUNDLE",
            "metadata_file_path": "/Workspace/Users/[USERNAME]/.bundle/many-permissions-test/default/state/metadata.json"
          },
          "edition": "ADVANCED",
          "name": "pipeline foo job bar job foo"
        }
      }
    },
    "resources.pipelines.foop.permissions": {
      "depends_on": [
        {
          "node": "resources.pipelines.foop",
          "label": "${resources.pipelines.foop.id}"
        }
      ],
      "action": "create",
      "new_state": {
        "config": {
          "object_id": "",
          "permissions": [
            {
              "permission_level": "CAN_VIEW",
              "user_name": "viewer@example.com"
            },
            {
              "group_name": "data-team",
              "permission_level": "CAN_MANAGE"
            },
            {
              "permission_level": "CAN_MANAGE",
              "service_principal_name": "servicebot"
            },
            {
              "permission_level": "CAN_MANAGE",
              "user_name": "admin@databricks.com"
            },
            {
              "permission_level": "IS_OWNER",
              "user_name": "[USERNAME]"
            }
          ]
        },
        "vars": {
          "object_id": "/pipelines/${resources.pipelines.foop.id}"
        }
      }
    }
  }
}
