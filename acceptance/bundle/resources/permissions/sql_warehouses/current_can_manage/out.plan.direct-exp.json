{
  "plan": {
    "resources.sql_warehouses.foo": {
      "action": "create",
      "new_state": {
        "config": {
          "auto_stop_mins": 120,
          "cluster_size": "Small",
          "enable_photon": true,
          "max_num_clusters": 1,
          "name": "foo",
          "spot_instance_policy": "COST_OPTIMIZED"
        }
      }
    },
    "resources.sql_warehouses.foo.permissions": {
      "depends_on": [
        {
          "node": "resources.sql_warehouses.foo",
          "label": "${resources.sql_warehouses.foo.id}"
        }
      ],
      "action": "create",
      "new_state": {
        "config": {
          "object_id": "",
          "permissions": [
            {
              "permission_level": "CAN_VIEW",
              "user_name": "viewer@example.com"
            },
            {
              "group_name": "data-team",
              "permission_level": "CAN_MANAGE"
            },
            {
              "permission_level": "CAN_MANAGE",
              "service_principal_name": "[UUID]"
            },
            {
              "permission_level": "IS_OWNER",
              "user_name": "[USERNAME]"
            }
          ]
        },
        "vars": {
          "object_id": "/sql/warehouses/${resources.sql_warehouses.foo.id}"
        }
      }
    }
  }
}
