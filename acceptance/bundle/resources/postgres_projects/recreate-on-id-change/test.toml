Local = true
Cloud = true

# Mitigates running into quota limits in workspaces
CloudSlow = true

# Run only on direct mode (not Terraform)
EnvMatrix.DATABRICKS_BUNDLE_ENGINE = ["direct"]

Ignore = [
    "databricks.yml",
    "out.requests.txt",   # Full request log (for debugging)
]

[[Repls]]
# Clean up ?o=<num> suffix after URL since not all workspaces have that
Old = '\?o=\[(NUMID|ALPHANUMID)\]'
New = ''
Order = 1000

[[Repls]]
# Normalize TraceId in error messages (run before default NUMID replacement at Order 9-10)
Old = 'TraceId: [a-f0-9]+'
New = 'TraceId: [TRACE_ID]'
Order = 1
