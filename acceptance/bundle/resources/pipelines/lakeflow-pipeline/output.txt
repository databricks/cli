
>>> [CLI] bundle validate
Name: test-pipeline-lakeflow-pipeline-[UNIQUE_NAME]
Target: default
Workspace:
  User: [USERNAME]
  Path: /Workspace/Users/[USERNAME]/.bundle/test-pipeline-lakeflow-pipeline-[UNIQUE_NAME]/default

Validation OK!

>>> [CLI] bundle deploy
Uploading bundle files to /Workspace/Users/[USERNAME]/.bundle/test-pipeline-lakeflow-pipeline-[UNIQUE_NAME]/default/files...
Uploaded [NUMID] files (ignored [NUMID] directories by .gitignore)
Deploying resources...
Updating deployment state...
Deployment complete!

>>> jq -s .[] | select(.path=="/api/2.0/pipelines" and .method == "POST") | .body out.requests.txt
{
  "channel": "CURRENT",
  "deployment": {
    "kind": "BUNDLE",
    "metadata_file_path": "/Workspace/Users/[USERNAME]/.bundle/test-pipeline-lakeflow-pipeline-[UNIQUE_NAME]/default/state/metadata.json"
  },
  "edition": "ADVANCED",
  "libraries": [
    {
      "glob": {
        "include": "/Workspace/Users/[USERNAME]/.bundle/test-pipeline-lakeflow-pipeline-[UNIQUE_NAME]/default/files/pipeline/transformations/**"
      }
    },
    {
      "glob": {
        "include": "/Workspace/Shared/transformations/**"
      }
    }
  ],
  "name": "test-pipeline-lakeflow-pipeline-[UNIQUE_NAME]",
  "root_path": "/Workspace/Users/[USERNAME]/.bundle/test-pipeline-lakeflow-pipeline-[UNIQUE_NAME]/default/files/pipeline"
}

>>> [CLI] bundle destroy --auto-approve
The following resources will be deleted:
  delete pipeline foo

This action will result in the deletion of the following Lakeflow Declarative Pipelines along with the
Streaming Tables (STs) and Materialized Views (MVs) managed by them:
  delete pipeline foo

All files and directories at the following location will be deleted: /Workspace/Users/[USERNAME]/.bundle/test-pipeline-lakeflow-pipeline-[UNIQUE_NAME]/default

Deleting files...
Destroy complete!
