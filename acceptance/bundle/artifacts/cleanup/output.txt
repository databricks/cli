
>>> [CLI] bundle deploy
Building my_test_code...
Uploading my_test_code/dist/my_test_code-0.0.1-py3-none-any.whl...
Uploading bundle files to /Workspace/Users/[USERNAME]/.bundle/cleanup/default/files...
Deploying resources...
Updating deployment state...
Deployment complete!

=== Expecting delete request to artifact_path/.internal folder
>>> jq -s .[] | select(.path=="/api/2.0/workspace/delete") | select(.body.path | test(".*/artifacts/.internal")) out.requests.txt
{
  "method": "POST",
  "path": "/api/2.0/workspace/delete",
  "body": {
    "path": "/Workspace/Users/[USERNAME]/.bundle/cleanup/default/artifacts/.internal",
    "recursive": true
  }
}

=== Expecting mkdirs request to artifact_path/.internal folder
>>> jq -s .[] | select(.path=="/api/2.0/workspace/mkdirs") | select(.body.path | test(".*/artifacts/.internal")) out.requests.txt
{
  "method": "POST",
  "path": "/api/2.0/workspace/mkdirs",
  "body": {
    "path": "/Workspace/Users/[USERNAME]/.bundle/cleanup/default/artifacts/.internal"
  }
}
