{
  "plan_version": 2,
  "cli_version": "[DEV_VERSION]",
  "plan": {
    "resources.jobs.sample_job": {
      "depends_on": [
        {
          "node": "resources.pipelines.my_default_python_etl",
          "label": "${resources.pipelines.my_default_python_etl.id}"
        }
      ],
      "action": "create",
      "new_state": {
        "value": {
          "deployment": {
            "kind": "BUNDLE",
            "metadata_file_path": "/Workspace/Users/[USERNAME]/.bundle/my_default_python/dev/state/metadata.json"
          },
          "edit_mode": "UI_LOCKED",
          "environments": [
            {
              "environment_key": "default",
              "spec": {
                "dependencies": [
                  "/Workspace/Users/[USERNAME]/.bundle/my_default_python/dev/artifacts/.internal/my_default_python-0.0.1-py3-none-any.whl"
                ],
                "environment_version": "4"
              }
            }
          ],
          "format": "MULTI_TASK",
          "max_concurrent_runs": 4,
          "name": "[dev [USERNAME]] sample_job",
          "parameters": [
            {
              "default": "hive_metastore",
              "name": "catalog"
            },
            {
              "default": "[USERNAME]",
              "name": "schema"
            }
          ],
          "queue": {
            "enabled": true
          },
          "tags": {
            "dev": "[USERNAME]"
          },
          "tasks": [
            {
              "notebook_task": {
                "notebook_path": "/Workspace/Users/[USERNAME]/.bundle/my_default_python/dev/files/src/sample_notebook"
              },
              "task_key": "notebook_task"
            },
            {
              "depends_on": [
                {
                  "task_key": "notebook_task"
                }
              ],
              "environment_key": "default",
              "python_wheel_task": {
                "entry_point": "main",
                "package_name": "my_default_python",
                "parameters": [
                  "--catalog",
                  "hive_metastore",
                  "--schema",
                  "[USERNAME]"
                ]
              },
              "task_key": "python_wheel_task"
            },
            {
              "depends_on": [
                {
                  "task_key": "notebook_task"
                }
              ],
              "pipeline_task": {
                "pipeline_id": "${resources.pipelines.my_default_python_etl.id}"
              },
              "task_key": "refresh_pipeline"
            }
          ],
          "trigger": {
            "pause_status": "PAUSED",
            "periodic": {
              "interval": 1,
              "unit": "DAYS"
            }
          }
        },
        "vars": {
          "tasks[2].pipeline_task.pipeline_id": "${resources.pipelines.my_default_python_etl.id}"
        }
      }
    },
    "resources.pipelines.my_default_python_etl": {
      "action": "create",
      "new_state": {
        "value": {
          "catalog": "main",
          "channel": "CURRENT",
          "deployment": {
            "kind": "BUNDLE",
            "metadata_file_path": "/Workspace/Users/[USERNAME]/.bundle/my_default_python/dev/state/metadata.json"
          },
          "development": true,
          "edition": "ADVANCED",
          "environment": {
            "dependencies": [
              "--editable /Workspace/Users/[USERNAME]/.bundle/my_default_python/dev/files"
            ]
          },
          "libraries": [
            {
              "glob": {
                "include": "/Workspace/Users/[USERNAME]/.bundle/my_default_python/dev/files/src/my_default_python_etl/transformations/**"
              }
            }
          ],
          "name": "[dev [USERNAME]] my_default_python_etl",
          "root_path": "/Workspace/Users/[USERNAME]/.bundle/my_default_python/dev/files/src/my_default_python_etl",
          "schema": "[USERNAME]",
          "serverless": true,
          "tags": {
            "dev": "[USERNAME]"
          }
        }
      }
    }
  }
}
