{
  "bundle": {
    "name": "my_default_python_[UNIQUE_NAME]",
    "target": "prod",
    "environment": "prod",
    "terraform": {},
    "git": {
      "bundle_root_path": "."
    },
    "mode": "production",
    "deployment": {
      "lock": {}
    },
    "uuid": "[UUID]"
  },
  "include": [
    "resources/my_default_python_[UNIQUE_NAME].job.yml",
    "resources/my_default_python_[UNIQUE_NAME].pipeline.yml"
  ],
  "workspace": {
    "host": "[DATABRICKS_URL]",
    "root_path": "/Workspace/Users/[USERNAME]/.bundle/my_default_python_[UNIQUE_NAME]/prod",
    "file_path": "/Workspace/Users/[USERNAME]/.bundle/my_default_python_[UNIQUE_NAME]/prod/files",
    "resource_path": "/Workspace/Users/[USERNAME]/.bundle/my_default_python_[UNIQUE_NAME]/prod/resources",
    "artifact_path": "/Workspace/Users/[USERNAME]/.bundle/my_default_python_[UNIQUE_NAME]/prod/artifacts",
    "state_path": "/Workspace/Users/[USERNAME]/.bundle/my_default_python_[UNIQUE_NAME]/prod/state"
  },
  "artifacts": {
    "python_artifact": {
      "type": "whl",
      "path": "[TMPDIR]/my_default_python_[UNIQUE_NAME]",
      "build": "python3 setup.py bdist_wheel"
    }
  },
  "resources": {
    "jobs": {
      "my_default_python_[UNIQUE_NAME]_job": {
        "deployment": {
          "kind": "BUNDLE",
          "metadata_file_path": "/Workspace/Users/[USERNAME]/.bundle/my_default_python_[UNIQUE_NAME]/prod/state/metadata.json"
        },
        "edit_mode": "UI_LOCKED",
        "format": "MULTI_TASK",
        "id": "[NUMBER]",
        "job_clusters": [
          {
            "job_cluster_key": "job_cluster",
            "new_cluster": {
              "autoscale": {
                "max_workers": 4,
                "min_workers": 1
              },
              "data_security_mode": "SINGLE_USER",
              "node_type_id": "[NODE_TYPE_ID]",
              "spark_version": "15.4.x-scala2.12"
            }
          }
        ],
        "name": "my_default_python_[UNIQUE_NAME]_job",
        "queue": {
          "enabled": true
        },
        "tasks": [
          {
            "job_cluster_key": "job_cluster",
            "notebook_task": {
              "notebook_path": "/Workspace/Users/[USERNAME]/.bundle/my_default_python_[UNIQUE_NAME]/prod/files/src/notebook"
            },
            "task_key": "notebook_task"
          },
          {
            "depends_on": [
              {
                "task_key": "notebook_task"
              }
            ],
            "pipeline_task": {
              "pipeline_id": "${resources.pipelines.my_default_python_[UNIQUE_NAME]_pipeline.id}"
            },
            "task_key": "refresh_pipeline"
          },
          {
            "depends_on": [
              {
                "task_key": "refresh_pipeline"
              }
            ],
            "job_cluster_key": "job_cluster",
            "libraries": [
              {
                "whl": "dist/*.whl"
              }
            ],
            "python_wheel_task": {
              "entry_point": "main",
              "package_name": "my_default_python_[UNIQUE_NAME]"
            },
            "task_key": "main_task"
          }
        ],
        "trigger": {
          "periodic": {
            "interval": 1,
            "unit": "DAYS"
          }
        },
        "url": "[DATABRICKS_URL]/jobs/[NUMBER]?o=[NUMBER]"
      }
    },
    "pipelines": {
      "my_default_python_[UNIQUE_NAME]_pipeline": {
        "configuration": {
          "bundle.sourcePath": "/Workspace/Users/[USERNAME]/.bundle/my_default_python_[UNIQUE_NAME]/prod/files/src"
        },
        "deployment": {
          "kind": "BUNDLE",
          "metadata_file_path": "/Workspace/Users/[USERNAME]/.bundle/my_default_python_[UNIQUE_NAME]/prod/state/metadata.json"
        },
        "id": "[UUID]",
        "libraries": [
          {
            "notebook": {
              "path": "/Workspace/Users/[USERNAME]/.bundle/my_default_python_[UNIQUE_NAME]/prod/files/src/dlt_pipeline"
            }
          }
        ],
        "name": "my_default_python_[UNIQUE_NAME]_pipeline",
        "schema": "my_default_python_[UNIQUE_NAME]_prod",
        "url": "[DATABRICKS_URL]/pipelines/[UUID]?o=[NUMBER]"
      }
    }
  },
  "sync": {
    "paths": [
      "."
    ]
  },
  "presets": {},
  "permissions": [
    {
      "level": "CAN_MANAGE",
      "service_principal_name": "[USERNAME]"
    }
  ]
}
