# Default target
trace $CLI bundle exec -- $CLI current-user me

# Explicitly select default target
trace $CLI bundle exec -t pat -- $CLI current-user me

# Conflicting targets selected. This should fail because for the child command
# pat would be configured via environment variables and oauth via the CLI resulting
# in more than one authorization method configured.
trace errcode $CLI bundle exec -t pat -- $CLI current-user me -t oauth

# Explicitly select oauth target
unset DATABRICKS_TOKEN
export DATABRICKS_CLIENT_SECRET="client_secret"
trace $CLI bundle exec -t oauth -- $CLI current-user me
