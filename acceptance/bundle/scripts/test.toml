LocalOnly = true  # Deployment currently fails when run locally; once that is fixed, remove this setting

# This test checks whether the scripts are executed in the correct order.
# The API stubs are defined just in order to have all scripts execute during
# bundle validate and deploy.
[[Server]]
Pattern = "GET  /api/2.0/preview/scim/v2/Me"
Response.Body = '''
{
  "id": "1000012345",
  "userName": "tester@databricks.com"
}
'''

[[Server]]
Pattern = "GET /api/2.0/workspace/get-status"
Response.Body = '''
{
  "object_id": 1001,
  "path": "",
  "object_type": "DIRECTORY",
  "resource_id": "1001"
}
'''

[[Server]]
Pattern = "POST /api/2.0/workspace/mkdirs"
Response.Body = '''
{
  "error_code": "FORBIDDEN",
  "message": "Some error message"
}
'''

[[Server]]
Pattern = "POST /api/2.0/workspace-files/import-file/"
Response.Body = '''
{
  "error_code": "RESOURCE_DOES_NOT_EXIST",
  "message": "Some error message"
}
'''
Response.StatusCode = 404
