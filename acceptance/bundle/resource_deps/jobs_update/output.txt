
>>> [CLI] bundle plan
create jobs.bar
create jobs.foo

Plan: 2 to add, 0 to change, 0 to delete, 0 unchanged

>>> [CLI] bundle deploy
Uploading bundle files to /Workspace/Users/[USERNAME]/.bundle/test-bundle/default/files...
Deploying resources...
Updating deployment state...
Deployment complete!

>>> print_requests.py //jobs

>>> [CLI] bundle plan
Plan: 0 to add, 0 to change, 0 to delete, 2 unchanged

=== Update trigger.periodic.unit and re-deploy; jobs.bar is unchanged
>>> update_file.py databricks.yml DAYS HOURS

>>> [CLI] bundle plan
update jobs.foo

Plan: 0 to add, 1 to change, 0 to delete, 1 unchanged

>>> [CLI] bundle deploy
Uploading bundle files to /Workspace/Users/[USERNAME]/.bundle/test-bundle/default/files...
Deploying resources...
Updating deployment state...
Deployment complete!

>>> print_requests.py //jobs

>>> [CLI] bundle plan
Plan: 0 to add, 0 to change, 0 to delete, 2 unchanged

=== Fetch job ID and verify remote state
>>> [CLI] jobs get [FOO_ID]

>>> [CLI] jobs get [BAR_ID]
{
  "created_time":[UNIX_TIME_MILLIS],
  "creator_user_name":"[USERNAME]",
  "job_id":[BAR_ID],
  "run_as_user_name":"[USERNAME]",
  "settings": {
    "deployment": {
      "kind":"BUNDLE",
      "metadata_file_path":"/Workspace/Users/[USERNAME]/.bundle/test-bundle/default/state/metadata.json"
    },
    "description":"depends on foo id [FOO_ID]",
    "edit_mode":"UI_LOCKED",
    "email_notifications": {},
    "format":"MULTI_TASK",
    "max_concurrent_runs":1,
    "name":"bar",
    "queue": {
      "enabled":true
    },
    "timeout_seconds":0,
    "webhook_notifications": {}
  }
}

>>> [CLI] bundle destroy --auto-approve
The following resources will be deleted:
  delete resources.jobs.bar
  delete resources.jobs.foo

All files and directories at the following location will be deleted: /Workspace/Users/[USERNAME]/.bundle/test-bundle/default

Deleting files...
Destroy complete!

>>> print_requests.py //jobs
{
  "method": "POST",
  "path": "/api/2.2/jobs/delete",
  "body": {
    "job_id": [BAR_ID]
  }
}
{
  "method": "POST",
  "path": "/api/2.2/jobs/delete",
  "body": {
    "job_id": [FOO_ID]
  }
}

>>> musterr [CLI] jobs get [FOO_ID]
Error: Not Found

>>> musterr [CLI] jobs get [BAR_ID]
Error: Not Found
