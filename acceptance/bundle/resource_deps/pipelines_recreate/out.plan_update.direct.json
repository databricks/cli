{
  "plan_version": 1,
  "cli_version": "[DEV_VERSION]",
  "plan": {
    "resources.jobs.bar": {
      "depends_on": [
        {
          "node": "resources.pipelines.foo",
          "label": "${resources.pipelines.foo.id}"
        }
      ],
      "action": "update",
      "new_state": {
        "value": {
          "deployment": {
            "kind": "BUNDLE",
            "metadata_file_path": "/Workspace/Users/[USERNAME]/.bundle/test-bundle/default/state/metadata.json"
          },
          "description": "depends on foo id ${resources.pipelines.foo.id}",
          "edit_mode": "UI_LOCKED",
          "format": "MULTI_TASK",
          "max_concurrent_runs": 1,
          "name": "job bar",
          "queue": {
            "enabled": true
          }
        },
        "vars": {
          "description": "depends on foo id ${resources.pipelines.foo.id}"
        }
      },
      "remote_state": {
        "created_time": [UNIX_TIME_MILLIS],
        "creator_user_name": "[USERNAME]",
        "job_id": [BAR_ID],
        "run_as_user_name": "[USERNAME]",
        "settings": {
          "deployment": {
            "kind": "BUNDLE",
            "metadata_file_path": "/Workspace/Users/[USERNAME]/.bundle/test-bundle/default/state/metadata.json"
          },
          "description": "depends on foo id [FOO_ID]",
          "edit_mode": "UI_LOCKED",
          "email_notifications": {},
          "format": "MULTI_TASK",
          "max_concurrent_runs": 1,
          "name": "job bar",
          "queue": {
            "enabled": true
          },
          "timeout_seconds": 0,
          "webhook_notifications": {}
        }
      },
      "changes": {
        "local": {
          "description": {
            "action": "update",
            "old": "depends on foo id [FOO_ID]",
            "new": "depends on foo id ${resources.pipelines.foo.id}"
          }
        },
        "remote": {
          "email_notifications": {
            "action": "skip",
            "reason": "server_side_default"
          },
          "timeout_seconds": {
            "action": "skip",
            "reason": "server_side_default"
          },
          "webhook_notifications": {
            "action": "skip",
            "reason": "server_side_default"
          }
        }
      }
    },
    "resources.pipelines.foo": {
      "action": "recreate",
      "new_state": {
        "value": {
          "channel": "CURRENT",
          "deployment": {
            "kind": "BUNDLE",
            "metadata_file_path": "/Workspace/Users/[USERNAME]/.bundle/test-bundle/default/state/metadata.json"
          },
          "edition": "ADVANCED",
          "name": "pipeline foo",
          "storage": "dbfs:/my-new-storage"
        }
      },
      "changes": {
        "local": {
          "storage": {
            "action": "recreate",
            "old": "dbfs:/my-storage",
            "new": "dbfs:/my-new-storage"
          }
        }
      }
    }
  }
}
