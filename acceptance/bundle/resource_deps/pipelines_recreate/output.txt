
>>> [CLI] bundle plan
create jobs.bar
create pipelines.foo

Plan: 2 to add, 0 to change, 0 to delete, 0 unchanged

>>> [CLI] bundle deploy
Uploading bundle files to /Workspace/Users/[USERNAME]/.bundle/test-bundle/default/files...
Deploying resources...
Updating deployment state...
Deployment complete!

>>> print_requests.py //jobs //pipelines

>>> [CLI] bundle plan
Plan: 0 to add, 0 to change, 0 to delete, 2 unchanged

=== Update catalog, triggering recreate for pipeline; this means updating downstream deps
>>> update_file.py databricks.yml mycatalog mynewcatalog

>>> [CLI] bundle plan
update pipelines.foo

Plan: 0 to add, 1 to change, 0 to delete, 1 unchanged

>>> [CLI] bundle deploy --auto-approve
Uploading bundle files to /Workspace/Users/[USERNAME]/.bundle/test-bundle/default/files...
Deploying resources...
Updating deployment state...
Deployment complete!

>>> print_requests.py //jobs //pipelines

=== Fetch resource IDs and verify remote state
>>> musterr [CLI] pipelines get [FOO_ID]
{
  "creator_user_name":"[USERNAME]",
  "last_modified":[UNIX_TIME_MILLIS],
  "name":"pipeline foo",
  "pipeline_id":"[FOO_ID]",
  "run_as_user_name":"[USERNAME]",
  "spec": {
    "catalog":"mynewcatalog",
    "channel":"CURRENT",
    "deployment": {
      "kind":"BUNDLE",
      "metadata_file_path":"/Workspace/Users/[USERNAME]/.bundle/test-bundle/default/state/metadata.json"
    },
    "edition":"ADVANCED",
    "id":"[FOO_ID]",
    "name":"pipeline foo"
  },
  "state":"IDLE"
}

Unexpected success

Exit code: 1
