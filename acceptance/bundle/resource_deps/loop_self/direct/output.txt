
>>> cp [TESTROOT]/bundle/resource_deps/loop_self/direct/../databricks.yml .

>>> cat databricks.yml
bundle:
  name: test-bundle

resources:
  jobs:
    foo:
      name: ${resources.jobs.foo.id}

=== Badness: validate could detect this and fail as well
>>> [CLI] bundle validate
Name: test-bundle
Target: default
Workspace:
  User: [USERNAME]
  Path: /Workspace/Users/[USERNAME]/.bundle/test-bundle/default

Validation OK!

>>> musterr [CLI] bundle plan
Error: while reading resources config: cycle detected: jobs.foo refers to itself via ${resources.jobs.foo.id}


Exit code (musterr): 1

>>> musterr [CLI] bundle deploy
Uploading bundle files to /Workspace/Users/[USERNAME]/.bundle/test-bundle/default/files...
Error: while reading resources config: cycle detected: jobs.foo refers to itself via ${resources.jobs.foo.id}


Exit code (musterr): 1
