
>>> [CLI] bundle validate
Name: deploy-lakebase-single-instance-[UNIQUE_NAME]
Target: default
Workspace:
  User: [USERNAME]
  Path: /Workspace/Users/[USERNAME]/.bundle/deploy-lakebase-single-instance-[UNIQUE_NAME]/default

Validation OK!

>>> [CLI] bundle summary
Name: deploy-lakebase-single-instance-[UNIQUE_NAME]
Target: default
Workspace:
  User: [USERNAME]
  Path: /Workspace/Users/[USERNAME]/.bundle/deploy-lakebase-single-instance-[UNIQUE_NAME]/default
Resources:
  Database instances:
    my_database:
      Name: test-database-instance-[UNIQUE_NAME]
      URL:  [DATABRICKS_URL]/compute/database-instances/test-database-instance-[UNIQUE_NAME]?o=[NUMID]

>>> [CLI] bundle deploy
Uploading bundle files to /Workspace/Users/[USERNAME]/.bundle/deploy-lakebase-single-instance-[UNIQUE_NAME]/default/files...
Deploying resources...
Updating deployment state...
Deployment complete!

>>> [CLI] database get-database-instance test-database-instance-[UNIQUE_NAME]
{
  "capacity":"CU_1",
  "creation_time":"[TIMESTAMP]Z",
  "creator":"[USERNAME]",
  "effective_enable_readable_secondaries":false,
  "effective_node_count":1,
  "effective_retention_window_in_days":7,
  "effective_stopped":false,
  "name":"test-database-instance-[UNIQUE_NAME]",
  "pg_version":"PG_VERSION_16",
  "read_only_dns":"instance-ro-[UUID].database.cloud.databricks.com",
  "read_write_dns":"instance-[UUID].database.cloud.databricks.com",
  "state":"STARTING",
  "uid":"[UUID]"
}

>>> [CLI] bundle summary
Name: deploy-lakebase-single-instance-[UNIQUE_NAME]
Target: default
Workspace:
  User: [USERNAME]
  Path: /Workspace/Users/[USERNAME]/.bundle/deploy-lakebase-single-instance-[UNIQUE_NAME]/default
Resources:
  Database instances:
    my_database:
      Name: test-database-instance-[UNIQUE_NAME]
      URL:  [DATABRICKS_URL]/compute/database-instances/test-database-instance-[UNIQUE_NAME]?o=[NUMID]

>>> [CLI] bundle summary -o json
{
  "bundle": {
    "environment": "default",
    "git": {
      "bundle_root_path": "."
    },
    "name": "deploy-lakebase-single-instance-[UNIQUE_NAME]",
    "target": "default",
    "terraform": {
      "exec_path": "[TERRAFORM]"
    }
  },
  "resources": {
    "database_instances": {
      "my_database": {
        "capacity": "CU_1",
        "name": "test-database-instance-[UNIQUE_NAME]",
        "url": "[DATABRICKS_URL]/compute/database-instances/test-database-instance-[UNIQUE_NAME]?o=[NUMID]"
      }
    }
  },
  "sync": {
    "paths": [
      "."
    ]
  },
  "targets": null,
  "workspace": {
    "artifact_path": "/Workspace/Users/[USERNAME]/.bundle/deploy-lakebase-single-instance-[UNIQUE_NAME]/default/artifacts",
    "current_user": {
      "active": true,
      "displayName": "[USERNAME]",
      "emails": [
        {
          "primary": true,
          "type": "work",
          "value": "[USERNAME]"
        }
      ],
      "entitlements": [
        {
          "value": "allow-cluster-create"
        },
        {
          "value": "allow-instance-pool-create"
        }
      ],
      "groups": [
        {
          "$ref": "Groups/[USERGROUP]",
          "display": "admins",
          "type": "direct",
          "value": "[USERGROUP]"
        }
      ],
      "id": "[USERID]",
      "name": {
        "givenName": "[USERNAME]"
      },
      "schemas": [
        "urn:ietf:params:scim:schemas:core:2.0:User",
        "urn:ietf:params:scim:schemas:extension:workspace:2.0:User"
      ],
      "short_name": "[USERNAME]",
      "userName": "[USERNAME]"
    },
    "file_path": "/Workspace/Users/[USERNAME]/.bundle/deploy-lakebase-single-instance-[UNIQUE_NAME]/default/files",
    "resource_path": "/Workspace/Users/[USERNAME]/.bundle/deploy-lakebase-single-instance-[UNIQUE_NAME]/default/resources",
    "root_path": "/Workspace/Users/[USERNAME]/.bundle/deploy-lakebase-single-instance-[UNIQUE_NAME]/default",
    "state_path": "/Workspace/Users/[USERNAME]/.bundle/deploy-lakebase-single-instance-[UNIQUE_NAME]/default/state"
  }
}

>>> [CLI] database delete-database-instance test-database-instance-[UNIQUE_NAME] --purge=true
