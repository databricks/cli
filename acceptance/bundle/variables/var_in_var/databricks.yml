bundle:
  name: test-bundle

variables:
  foo_x:
    default: hello from foo x
  foo_y:
    default: hi from foo y
  tail:
    default: x
  final:
    # This works but it's not officially supported, please do not rely on it.
    # We might start to reject this config in the future.
    default: ${var.foo_${var.tail}}

targets:
  target_x:
    variables:
      tail: x
  target_y:
    variables:
      tail: y
